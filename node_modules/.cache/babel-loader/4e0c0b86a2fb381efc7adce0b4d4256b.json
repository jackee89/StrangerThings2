{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MessageForm=function MessageForm(_ref){var message=_ref.message,setMessage=_ref.setMessage,post_id=_ref.post_id,token=_ref.token,APIURL=_ref.APIURL;//APIURL const not owrking here?\nvar postMessages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch(\"https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT/posts/\".concat(post_id,\"/messages\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({message:{content:message}})}).then(function(response){return response.json();}).then(function(result){console.log(\"This is the post message response \".concat(result));}).catch(console.error);case 1:case\"end\":return _context.stop();}}},_callee);}));return function postMessages(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{id:\"messageForm\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Message: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message here\",autoComplete:\"off\",onChange:function onChange(e){setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{classname:\"button\",onClick:function onClick(){postMessages();setMessage('');},children:/*#__PURE__*/_jsx(Link,{className:\"myPostsLinks\",to:\"/inbox\",children:\"Send\"})})]});};","map":{"version":3,"names":["React","Link","MessageForm","message","setMessage","post_id","token","APIURL","postMessages","fetch","method","headers","body","JSON","stringify","content","then","response","json","result","console","log","catch","error","e","target","value"],"sources":["/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/src/components/HeadersComponents/SendMessageForm.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport const MessageForm = ({message, setMessage, post_id, token, APIURL }) => {\n\n  //APIURL const not owrking here?\n    const postMessages = async () => {\n        fetch(`https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT/posts/${post_id}/messages`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: {\n            content: message\n          }\n        })\n      }).then(response => response.json())\n        .then(result => {\n          console.log(`This is the post message response ${result}`);\n        })\n        .catch(console.error);\n        }\n\n\n    return <form id='messageForm'>\n            <label>Message: </label>\n            <input type=\"text\" placeholder=\"Type your message here\" autoComplete='off' onChange={(e) => {\n                  setMessage(e.target.value)}}>\n            </input>\n            <button classname='button' onClick={()=>{postMessages(); setMessage('')}}><Link className='myPostsLinks'to='/inbox'>Send</Link></button>\n    </form> \n}"],"mappings":"0VAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAc,MAAoD,IAAlDC,QAAkD,MAAlDA,OAAkD,CAAzCC,UAAyC,MAAzCA,UAAyC,CAA7BC,OAA6B,MAA7BA,OAA6B,CAApBC,KAAoB,MAApBA,KAAoB,CAAbC,MAAa,MAAbA,MAAa,CAE7E;AACE,GAAMC,aAAY,6FAAG,qIACjBC,KAAK,+EAAwEJ,OAAxE,cAA4F,CACjGK,MAAM,CAAE,MADyF,CAEjGC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BL,KAA3B,CAFO,CAFwF,CAMjGM,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBX,OAAO,CAAE,CACPY,OAAO,CAAEZ,OADF,CADU,CAAf,CAN2F,CAA5F,CAAL,CAWCa,IAXD,CAWM,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EAXd,EAYCF,IAZD,CAYM,SAAAG,MAAM,CAAI,CACdC,OAAO,CAACC,GAAR,6CAAiDF,MAAjD,GACD,CAdD,EAeCG,KAfD,CAeOF,OAAO,CAACG,KAff,EADiB,sDAAH,kBAAZf,aAAY,2CAAlB,CAoBA,mBAAO,cAAM,EAAE,CAAC,aAAT,wBACC,oCADD,cAEC,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,wBAA/B,CAAwD,YAAY,CAAC,KAArE,CAA2E,QAAQ,CAAE,kBAACgB,CAAD,CAAO,CACtFpB,UAAU,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CADjC,EAFD,cAKC,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,kBAAI,CAAClB,YAAY,GAAIJ,UAAU,CAAC,EAAD,CAAV,CAAe,CAAxE,uBAA0E,KAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA8B,EAAE,CAAC,QAAjC,kBAA1E,EALD,GAAP,CAOH,CA9BM"},"metadata":{},"sourceType":"module"}