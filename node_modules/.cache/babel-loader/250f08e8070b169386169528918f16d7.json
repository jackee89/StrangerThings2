{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";//make this an accessable variable for whole document....\nvar APIURL='https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT';var FetchNewToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password,setToken){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(APIURL,\"/users/register\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})}).then(function(response){return response.json();}).then(function(result){setToken(result.data.token);console.log(\"The token: \".concat(result.data.token));}).catch(console.error);case 2:case\"end\":return _context.stop();}}},_callee);}));return function FetchNewToken(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var CheckForToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password,setToken){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(APIURL,\"/users/login\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})}).then(function(response){return response.json();}).then(function(result){setToken(result.data.token);console.log(\"The token: \".concat(result.data.token));}).catch(console.error);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function CheckForToken(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();export{FetchNewToken,CheckForToken};","map":{"version":3,"names":["APIURL","FetchNewToken","username","password","setToken","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","data","token","console","log","catch","error","CheckForToken"],"sources":["/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/src/api/LoginAPIcalls.js"],"sourcesContent":["//make this an accessable variable for whole document....\nconst APIURL = 'https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT'\n\nconst FetchNewToken = async (username, password, setToken) => {\n\n        await fetch(`${APIURL}/users/register`, {\n            method: \"POST\",\n            headers: {\n                    'Content-Type': 'application/json'\n             },\n            body: JSON.stringify({\n            user: {\n                 username: username,\n                password: password\n            }\n        })\n        }).then(response => response.json())\n        .then(result => {\n              setToken(result.data.token);\n              console.log(`The token: ${result.data.token}`)\n             \n        })\n            .catch(console.error);\n    }\n    \n\n    const CheckForToken = async (username, password, setToken) => {\n       await fetch(`${APIURL}/users/login`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user: {\n                username: username,\n                password: password\n                }\n            })\n            }).then(response => response.json())\n            .then(result => {\n                setToken(result.data.token);\n                console.log(`The token: ${result.data.token}`)\n            })\n            .catch(console.error);\n    }\n\n    export {FetchNewToken, CheckForToken};"],"mappings":"0VAAA;AACA,GAAMA,OAAM,CAAG,+DAAf,CAEA,GAAMC,cAAa,4FAAG,iBAAOC,QAAP,CAAiBC,QAAjB,CAA2BC,QAA3B,0IAERC,MAAK,WAAIL,MAAJ,oBAA6B,CACpCM,MAAM,CAAE,MAD4B,CAEpCC,OAAO,CAAE,CACD,eAAgB,kBADf,CAF2B,CAKpCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACrBC,IAAI,CAAE,CACDT,QAAQ,CAAEA,QADT,CAEFC,QAAQ,CAAEA,QAFR,CADe,CAAf,CAL8B,CAA7B,CAAL,CAWHS,IAXG,CAWE,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EAXV,EAYLF,IAZK,CAYA,SAAAG,MAAM,CAAI,CACVX,QAAQ,CAACW,MAAM,CAACC,IAAP,CAAYC,KAAb,CAAR,CACAC,OAAO,CAACC,GAAR,sBAA0BJ,MAAM,CAACC,IAAP,CAAYC,KAAtC,GAEL,CAhBK,EAiBDG,KAjBC,CAiBKF,OAAO,CAACG,KAjBb,CAFQ,uDAAH,kBAAbpB,cAAa,oDAAnB,CAuBI,GAAMqB,cAAa,6FAAG,kBAAOpB,QAAP,CAAiBC,QAAjB,CAA2BC,QAA3B,+IACbC,MAAK,WAAIL,MAAJ,iBAA0B,CAChCM,MAAM,CAAE,MADwB,CAEhCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFuB,CAKhCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAE,CACNT,QAAQ,CAAEA,QADJ,CAENC,QAAQ,CAAEA,QAFJ,CADW,CAAf,CAL0B,CAA1B,CAAL,CAWES,IAXF,CAWO,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EAXf,EAYAF,IAZA,CAYK,SAAAG,MAAM,CAAI,CACZX,QAAQ,CAACW,MAAM,CAACC,IAAP,CAAYC,KAAb,CAAR,CACAC,OAAO,CAACC,GAAR,sBAA0BJ,MAAM,CAACC,IAAP,CAAYC,KAAtC,GACH,CAfA,EAgBAG,KAhBA,CAgBMF,OAAO,CAACG,KAhBd,CADa,yDAAH,kBAAbC,cAAa,sDAAnB,CAoBA,OAAQrB,aAAR,CAAuBqB,aAAvB"},"metadata":{},"sourceType":"module"}