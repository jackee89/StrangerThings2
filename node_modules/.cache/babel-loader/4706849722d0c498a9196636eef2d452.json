{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var APIURL='https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT';export var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,results,posts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(APIURL,\"/posts\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:results=_context.sent;posts=results.data.posts;if(!results.error){_context.next=10;break;}throw results.error;case 10:console.log(\"This is all of the posts: \".concat(posts));return _context.abrupt(\"return\",posts);case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0.messages);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();export var fetchUserPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(token){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(APIURL,\"/posts\"),{method:\"GET\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(result){var myPostsArray=[];//console.log(result);\nvar posts=result.data.posts;//return result.data.posts;\nposts.map(function(post){if(post.isAuthor===true){myPostsArray.push(post);}});console.log(\"This is an array of my posts: \".concat(myPostsArray));return myPostsArray;}).catch(console.error);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUserPosts(_x){return _ref2.apply(this,arguments);};}();export var fetchMessages=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(APIURL,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(result){console.log(result);console.log(\"This should access all of my messages: \".concat(result.data.messages));}).catch(console.error);case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchMessages(_x2){return _ref3.apply(this,arguments);};}();export var postRequest=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token,title,description,price,location,delivery){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch('https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT/posts',{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:price,location:location,willDeliver:delivery}})}).then(function(response){return response.json();}).then(function(result){console.log(\"Return of Message Post Request \".concat(result));});case 3:_context4.next=8;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0.message);case 8:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);}));return function postRequest(_x3,_x4,_x5,_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();export var deletePost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token,postID){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:fetch(\"\".concat(APIURL,\"/posts/\").concat(postID),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(result){console.log(\"Return of Post Delete Request \".concat(result));}).catch(console.error);case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function deletePost(_x9,_x10){return _ref5.apply(this,arguments);};}();export var patchPost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(token,postID,title,description,price,location,delivery){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:fetch(\"\".concat(APIURL,\"/posts/\").concat(postID),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:price,location:location,willDeliver:delivery}})}).then(function(response){return response.json();}).then(function(result){console.log(\"Return of Post Edit Request \".concat(result));}).catch(console.error);case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function patchPost(_x11,_x12,_x13,_x14,_x15,_x16,_x17){return _ref6.apply(this,arguments);};}();","map":{"version":3,"names":["APIURL","fetchPosts","fetch","response","json","results","posts","data","error","console","log","messages","fetchUserPosts","token","method","headers","then","result","myPostsArray","map","post","isAuthor","push","catch","fetchMessages","postRequest","title","description","price","location","delivery","body","JSON","stringify","willDeliver","message","deletePost","postID","patchPost"],"sources":["/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/src/api/APIcalls.js"],"sourcesContent":["const APIURL = 'https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT'\n\nexport const fetchPosts = async () => {\n        \n        try {\n        const response = await fetch(`${APIURL}/posts`)\n        const results = await response.json();\n        const posts = results.data.posts\n        if (results.error) throw results.error; \n        console.log(`This is all of the posts: ${posts}`)\n        return posts;\n        } catch (err) {\n          console.error(err.messages);\n        }\n    }\n\n export const fetchUserPosts = async (token) => {\n    await fetch(`${APIURL}/posts`, {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n      }).then(response => response.json())\n        .then(result => {\n          let myPostsArray=[];\n          //console.log(result);\n          let posts = result.data.posts;\n         //return result.data.posts;\n           posts.map((post) => {if (post.isAuthor === true) {myPostsArray.push(post)}})\n          console.log(`This is an array of my posts: ${myPostsArray}`)\n           return myPostsArray;\n        })\n        .catch(console.error);\n\n}\n\nexport const fetchMessages = async (token) => {\n\n        await fetch(`${APIURL}/users/me`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}` \n          },\n        }).then(response => response.json())\n          .then(result => {\n            console.log(result)\n              console.log(`This should access all of my messages: ${result.data.messages}`);\n          })\n          .catch(console.error);\n        };\n\n\n\n\n export const postRequest = async (token, title, description, price, location, delivery) => {\n        try{\n          await fetch('https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT/posts', {\n              method: \"POST\",\n              headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}` \n           },\n          body: JSON.stringify({\n            post: {\n              title: title,\n              description: description,\n              price: price,\n              location: location,\n              willDeliver: delivery\n            }\n          })\n        }).then(response => response.json())\n          .then(result => {\n            console.log(`Return of Message Post Request ${result}`);\n          })\n      } catch(error) {\n          console.log(error.message)\n      } \n      };\n\n\n      \nexport const deletePost = async (token, postID) => {\n    fetch(`${APIURL}/posts/${postID}`, {\n        method: \"DELETE\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        }\n        }).then(response => response.json())\n        .then(result => {\n            console.log(`Return of Post Delete Request ${result}`);\n        })\n        .catch(console.error);\n}\n\nexport const patchPost = async (token, postID, title, description, price, location, delivery) => {\n  fetch(`${APIURL}/posts/${postID}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title: title,\n          description: description,\n          price: price,\n          location: location,\n          willDeliver: delivery\n        }\n      })\n    }).then(response => response.json())\n      .then(result => {\n        console.log(`Return of Post Edit Request ${result}`);\n      })\n  .catch(console.error);\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}