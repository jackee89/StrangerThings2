{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{patchPost}from\"../../api/APIcalls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditPost=function EditPost(_ref){var token=_ref.token,postID=_ref.postID;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(0.00),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),delivery=_useState8[0],setDelivery=_useState8[1];var _useState9=useState('On Request'),_useState10=_slicedToArray(_useState9,2),location=_useState10[0],setLocation=_useState10[1];function updateUserPost(){return _updateUserPost.apply(this,arguments);}//try to make it so that either just the changed text updates or that everythign shows up and you can editall the text there?\nfunction _updateUserPost(){_updateUserPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return patchPost(token,postID,title,description,price,location,delivery);case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return _updateUserPost.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:\"editHeader\",children:\"Edit Your Post\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"createPost\",onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();updateUserPost();history.push('/posts');case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editSection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",onChange:function onChange(e){setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editSection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",onChange:function onChange(e){setDescription(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editSection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",onChange:function onChange(e){setPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editSection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",onChange:function onChange(e){setLocation(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editSection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Will Deliver? \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setDelivery(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:false,children:\" Yes \"}),/*#__PURE__*/_jsx(\"option\",{value:true,children:\" No \"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Update\"})]})]});};","map":{"version":3,"names":["React","useState","useHistory","patchPost","EditPost","token","postID","history","title","setTitle","description","setDescription","price","setPrice","delivery","setDelivery","location","setLocation","updateUserPost","console","error","message","e","preventDefault","push","target","value"],"sources":["/Users/jacqueline.floyd/Desktop/Course Work/Strangers Things 2/strangers-things/src/components/HeadersComponents/EditPost.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { patchPost } from \"../../api/APIcalls\";\n\n\nexport const EditPost = ({token, postID}) => {\n    let history = useHistory();\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState('');\n    const [price, setPrice] = useState (0.00);\n    const [delivery, setDelivery] = useState (false);\n    const [location, setLocation] = useState('On Request')\n\n    \n    async function updateUserPost() {\n        try {\n            await patchPost(token, postID, title, description, price, location, delivery)\n        } catch (error) {\n             console.error(error.message);\n        }\n    }\n\n//try to make it so that either just the changed text updates or that everythign shows up and you can editall the text there?\n    return (\n        <div>\n            <h3 id='editHeader'>Edit Your Post</h3>\n            <form id=\"createPost\" onSubmit={async(e)=>{\n                    e.preventDefault();\n                    updateUserPost();\n                    history.push('/posts') \n            }}>\n            <div className='editSection'>\n                <label>Title: </label>\n                <input type='text' autoComplete=\"off\"  onChange={(e)=>{setTitle(e.target.value)}} ></input>\n            </div>\n            <div className='editSection'>\n                <label>Description: </label>\n                <input type='text' autoComplete=\"off\"onChange={(e)=>{setDescription(e.target.value)}}  ></input>\n            </div>\n            <div className='editSection'>\n                <label>Price: </label>\n                <input type='text' autoComplete=\"off\" onChange={(e)=>{setPrice(e.target.value)}} ></input>\n            </div>\n            <div className='editSection'>\n                <label>Location: </label>\n                <input type='text' autoComplete=\"off\" onChange={(e)=>{setLocation(e.target.value)}} ></input>\n            </div>\n            <div className='editSection'>\n                <label>Will Deliver? </label> \n                <select onChange={(e)=>{setDelivery(e.target.value)}}>\n                    <option value={false} > Yes </option>\n                    <option value={true}> No </option>\n                </select> \n            </div>\n            <button className='button' type=\"submit\">Update</button>\n            </form>\n        </div>\n    )}\n"],"mappings":"+fAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,KAA0B,oBAA1B,C,wFAGA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAqB,IAAnBC,MAAmB,MAAnBA,KAAmB,CAAZC,MAAY,MAAZA,MAAY,CACzC,GAAIC,QAAO,CAAGL,UAAU,EAAxB,CACA,cAA0BD,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,eAA0BV,QAAQ,CAAE,IAAF,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,eAAgCZ,QAAQ,CAAE,KAAF,CAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACA,eAAgCd,QAAQ,CAAC,YAAD,CAAxC,0CAAOe,QAAP,gBAAiBC,WAAjB,gBANyC,QAS1BC,eAT0B,iDAiB7C;AAjB6C,qGASzC,kLAEcf,UAAS,CAACE,KAAD,CAAQC,MAAR,CAAgBE,KAAhB,CAAuBE,WAAvB,CAAoCE,KAApC,CAA2CI,QAA3C,CAAqDF,QAArD,CAFvB,0FAISK,OAAO,CAACC,KAAR,CAAc,aAAMC,OAApB,EAJT,qEATyC,iDAkBzC,mBACI,oCACI,WAAI,EAAE,CAAC,YAAP,4BADJ,cAEI,cAAM,EAAE,CAAC,YAAT,CAAsB,QAAQ,6FAAE,iBAAMC,CAAN,oHACxBA,CAAC,CAACC,cAAF,GACAL,cAAc,GACdX,OAAO,CAACiB,IAAR,CAAa,QAAb,EAHwB,sDAAF,+DAA9B,wBAKA,aAAK,SAAS,CAAC,aAAf,wBACI,kCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAC,KAAhC,CAAuC,QAAQ,CAAE,kBAACF,CAAD,CAAK,CAACb,QAAQ,CAACa,CAAC,CAACG,MAAF,CAASC,KAAV,CAAR,CAAyB,CAAhF,EAFJ,GALA,cASA,aAAK,SAAS,CAAC,aAAf,wBACI,wCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAC,KAAhC,CAAqC,QAAQ,CAAE,kBAACJ,CAAD,CAAK,CAACX,cAAc,CAACW,CAAC,CAACG,MAAF,CAASC,KAAV,CAAd,CAA+B,CAApF,EAFJ,GATA,cAaA,aAAK,SAAS,CAAC,aAAf,wBACI,kCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAC,KAAhC,CAAsC,QAAQ,CAAE,kBAACJ,CAAD,CAAK,CAACT,QAAQ,CAACS,CAAC,CAACG,MAAF,CAASC,KAAV,CAAR,CAAyB,CAA/E,EAFJ,GAbA,cAiBA,aAAK,SAAS,CAAC,aAAf,wBACI,qCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAC,KAAhC,CAAsC,QAAQ,CAAE,kBAACJ,CAAD,CAAK,CAACL,WAAW,CAACK,CAAC,CAACG,MAAF,CAASC,KAAV,CAAX,CAA4B,CAAlF,EAFJ,GAjBA,cAqBA,aAAK,SAAS,CAAC,aAAf,wBACI,yCADJ,cAEI,gBAAQ,QAAQ,CAAE,kBAACJ,CAAD,CAAK,CAACP,WAAW,CAACO,CAAC,CAACG,MAAF,CAASC,KAAV,CAAX,CAA4B,CAApD,wBACI,eAAQ,KAAK,CAAE,KAAf,mBADJ,cAEI,eAAQ,KAAK,CAAE,IAAf,kBAFJ,GAFJ,GArBA,cA4BA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,oBA5BA,GAFJ,GADJ,CAkCE,CApDC"},"metadata":{},"sourceType":"module"}